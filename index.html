
<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://hcaptcha.com/1/api.js" async defer type="1b4a97cfe512847564f9d2b9-text/javascript"></script> 
    <script type="1b4a97cfe512847564f9d2b9-text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "oqyrq6oe9b");
</script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Doritus</title>
    <link rel="stylesheet" href="./assets/css/style.css" />
  </head>
  <body>
    <div class="container">
      <div class="wrapper">
        <h2 class="doritus">
          <span> Doritus </span>
          <img src="./assets/pumpkin.svg" alt="Pumpkin" />
        </h2>
        <div class="form">
          <div class="form-control">
            <label for="ra">RA</label>
            <input type="text" id="ra" name="ra" placeholder="RA + Dígito + UF" oninput="if (!window.__cfRLUnblockHandlers) return false; toggleClearButton('ra')" data-cf-modified-1b4a97cfe512847564f9d2b9-="" />
            <button class="clear-btn" id="clear-ra" onclick="if (!window.__cfRLUnblockHandlers) return false; clearInput('ra')" data-cf-modified-1b4a97cfe512847564f9d2b9-="">
              <img src="./assets/close.svg" alt="Limpar" />
            </button>
          </div>
          <div class="form-control">
            <label for="pwd">Senha</label>
            <input type="password" id="pwd" name="pwd" placeholder="Digite sua senha" oninput="if (!window.__cfRLUnblockHandlers) return false; toggleClearButton('pwd')" data-cf-modified-1b4a97cfe512847564f9d2b9-="" />
            <button class="clear-btn" id="clear-pwd" onclick="if (!window.__cfRLUnblockHandlers) return false; clearInput('pwd')" data-cf-modified-1b4a97cfe512847564f9d2b9-="">
              <img src="./assets/close.svg" alt="Limpar" />
            </button>
          </div>
          <div class="h-captcha" data-sitekey="11189064-0e50-48c4-b784-e760bc06c90e" id="hcaptcha"></div>
          <div class="form-buttons">
            <button onclick="if (!window.__cfRLUnblockHandlers) return false; verifyCaptcha('fazerlicaonormal')" data-cf-modified-1b4a97cfe512847564f9d2b9-="">
              Atividades Pendentes
            </button>
            <button onclick="if (!window.__cfRLUnblockHandlers) return false; verifyCaptcha('fazerlicaoatrasada')" data-cf-modified-1b4a97cfe512847564f9d2b9-="">
              Atividades Expiradas
            </button>
          </div>
        </div>
      </div>
    </div>

    <script src="./assets/js/script.js" type="1b4a97cfe512847564f9d2b9-text/javascript"></script>
    <script type="1b4a97cfe512847564f9d2b9-text/javascript">
      async function verifyCaptcha(funcName) {
     const hcaptchaResponse = hcaptcha.getResponse();

     if (hcaptchaResponse.length === 0) {
         alert('Faz o captcha doidokkk');
     } else {
         const name = document.getElementById('ra').value;
         const password = document.getElementById('pwd').value;

         try {
             const response = await fetch('https://doritus.mmrcoss.tech/verify-captcha', {
                 method: 'POST',
                 headers: {
                     'Content-Type': 'application/json',
                 },
                 body: JSON.stringify({
                     'h-captcha-response': hcaptchaResponse,
                 }),
             });

             if (response.ok) {
                 const key = await response.text(); 

                 if (funcName === 'fazerlicaonormal') {
                     fazerlicaonormal(name, password, key);
                 } else if (funcName === 'fazerlicaoatrasada') {
                     fazerlicaoatrasada(name, password, key);
                 }
             } else {
                 alert('Verificação do captcha falhou');
             }
         } catch (error) {
             console.error('Erro ao verificar o captcha:', error);
             alert('Erro ao verificar o captcha');
             console.log(hcaptchaResponse)
         }

         hcaptcha.reset();
     }
 }
 
 </script>
  <script src="/cdn-cgi/scripts/7d0fa10a/cloudflare-static/rocket-loader.min.js" data-cf-settings="1b4a97cfe512847564f9d2b9-|49" defer></script></body>
</html>
